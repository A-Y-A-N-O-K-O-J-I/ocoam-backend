CREATE TABLE users(
id INTEGER PRIMARY KEY AUTOINCREMENT,
name TEXT NOT NULL,
email TEXT NOT NULL,
password TEXT NOT NULL
);INSERT INTO users (name,email,password) VALUES("ayanokoji","ayanokojix23@gmail.com","segun");INSERT INTO users (name,email,password) VALUES("my name","segun23@gmail.com","david");INSERT INTO users (name,email,password) VALUES("esther","esther23@gmail.com","esther");INSERT INTO users (name,email,password) VALUES("bunmi","oluwabunmix09@gmail.com","oluwabunmi");

const createTables = async () => {
  try {
    await pool.query(`
      CREATE TABLE IF NOT EXISTS users (
        id SERIAL PRIMARY KEY,
        name VARCHAR(100),
        email VARCHAR(150) UNIQUE NOT NULL,
        password TEXT NOT NULL,
        security_code VARCHAR(50),
        is_verified BOOLEAN DEFAULT false,
        verification_token TEXT,
        created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
      );
    `);

    await pool.query(`
      CREATE TABLE IF NOT EXISTS security_codes (
        id SERIAL PRIMARY KEY,
        code VARCHAR(50) UNIQUE NOT NULL,
        is_used BOOLEAN DEFAULT false,
        expires_at TIMESTAMP NOT NULL,
        used_by INTEGER,
        created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
      );
    `);
    await pool.query(`
      CREATE TABLE IF NOT EXISTS chat_history (
      id SERIAL PRIMARY KEY,
      user_id INTEGER NOT NULL,
      chat_id TEXT NOT NULL,
      message TEXT NOT NULL
      )
    `);
    console.log("âœ… Tables ready");
  } catch (err) {
    console.error("ðŸ’¥ Table creation error:", err);
  }
};
